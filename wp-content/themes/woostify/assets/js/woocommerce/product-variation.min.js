"use strict";function productVariation(o,e){var r=jQuery(o),t=e||"form.variations_form",a=r.find(".image-item:eq(0)"),i=a.find("img"),n=i.prop("src"),c=i.prop("srcset")||"",s=a.find("a"),d=s.prop("href"),p=r.find(".thumbnail-item:eq(0)"),u=p.find("img").prop("src");if(jQuery(t).length){var l=document.querySelector(".elementor-widget-woostify-product-meta .sku"),_=l?l.innerHTML:"",m=document.querySelector(".wpm_gtin_code_wrapper .wpm_pgw_code");m&&(m.innerHTML=_),jQuery(document.body).on("found_variation",t,(function(e,r){var t=r.image.src,d=r.is_in_stock;l&&(l.innerHTML=r.sku),m&&r.wpm_pgw_code&&(m.innerHTML=r.wpm_pgw_code),s.prop("href",r.image.full_src),n!==t?(i.prop("srcset",r.image.srcset),a.addClass("image-loading"),i.prop("src",t).one("load",(function(){a.removeClass("image-loading")}))):(i.prop("src",t),i.prop("srcset",c)),p.find("img").prop("src",r.image.thumb_src),"function"==typeof easyZoomHandle&&easyZoomHandle();var u=document.querySelector(o),_=!!u&&u.querySelector(".product-images"),f=!!_&&_.querySelector(".woostify-out-of-stock-label"),y=!!_&&_.querySelector(".woostify-tag-on-sale");if(d)r.max_qty&&"function"==typeof woostifyStockQuantityProgressBar&&setTimeout((function(){woostifyStockQuantityProgressBar()}),200),f&&f.remove(),y&&woostify_woocommerce_variable_product_data.sale_tag_percent&&r.display_price!=r.display_regular_price&&(y.innerHTML="-"+Math.round((r.display_regular_price-r.display_price)/r.display_regular_price*100)+"%");else if(woostify_woocommerce_variable_product_data){var g='<span class="woostify-out-of-stock-label position-'+woostify_woocommerce_variable_product_data.out_of_stock_display+" "+woostify_woocommerce_variable_product_data.out_of_stock_square+'">'+woostify_woocommerce_variable_product_data.out_of_stock_text+"</span>";f||_.insertAdjacentHTML("beforeend",g)}})),jQuery(".reset_variations").on("click",(function(o){o.preventDefault(),_&&(l.innerHTML=_),m&&(m.innerHTML=_),a.addClass("image-loading"),i.prop("src",n).one("load",(function(){a.removeClass("image-loading")})),i.attr("srcset",c),p.find("img").prop("src",u),s.prop("href",d),"function"==typeof easyZoomHandle&&easyZoomHandle()}))}}document.addEventListener("DOMContentLoaded",(function(){productVariation(".product-gallery"),"function"==typeof onElementorLoaded&&onElementorLoaded((function(){window.elementorFrontend.hooks.addAction("frontend/element_ready/global",(function(){productVariation(".product-gallery")}))}))}));